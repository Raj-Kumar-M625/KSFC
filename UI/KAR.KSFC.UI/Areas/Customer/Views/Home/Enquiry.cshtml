@model IEnumerable<KAR.KSFC.Components.Common.Dto.EnquirySubmission.EnquiryDTO>

<p>Below is the list of enquiries made.</p>


@*<h3 class="text-center"><i class="fas fa-comments-dollar text-success"></i> Address Details</h3>*@

<div class="pre-scrollable">

    <table class="table table-striped table-bordered table-sm table-responsive-xl" id="tblEnquiryListDatatable">
        <thead>
            <tr>
                <th>
                    #
                </th>
                <th>
                    Name of Unit
                </th>
                <th>
                    Type of Industry
                </th>
                <th>
                    Size of Firm
                </th>
                <th>
                    Place
                </th>
                <th>
                    Purpose of loan
                </th>
                <th></th>
                <th></th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @if (Model.Count() != 0)
            {
                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.EnquiryId)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.UnitDetails.BasicDetails.UnitName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.UnitDetails.BasicDetails.TypeOfIndustry)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.UnitDetails.BasicDetails.SizeCd)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.UnitDetails.BasicDetails.EnqPlace)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.UnitDetails.BasicDetails.PurpCd)
                        </td>
                        <td>
                            <a onclick="showInPopup('@Url.Action("ViewRecord", "Address", new { id = item.EnquiryId }, Context.Request.Scheme)','View Address')" class="btn btn-secondary text-white"><i class="fas fa-pencil-alt"></i> View</a>
                        </td>
                        <td>
                            <a onclick="showInPopup('@Url.Action("Update", "Address", new { id = item.EnquiryId }, Context.Request.Scheme)','Update Address')" class="btn btn-primary text-white"><i class="fa fa-pencil" aria-hidden="true"></i>   Edit</a>
                        </td>
                        <td>
                            <form asp-action="Delete" asp-route-id="@item.EnquiryId" onsubmit="return jQueryAjaxDelete(this)" class="d-inline">
                                <input type="hidden" asp-for="@item.EnquiryId" />
                                <input type="submit" value="Delete" class="btn btn-danger" />
                            </form>
                        </td>
                    </tr>
                }}
        </tbody>
    </table>
</div>

<br />
<br />
@using (Html.BeginForm("NewEnquiry", "Home", FormMethod.Get, new { area = "Customer" }))
{
    <input type="submit" class="btn btn-info btn-lg" value="Apply New Enquiry" />
}


<br />

@section Scripts {
    <script src="~/lib/bootstrap/dist/js/jquery.dataTables.min.js"></script>
    <link href="~/lib/bootstrap/dist/css/jquery.dataTables.min.css" rel="stylesheet" />
    <script type="text/javascript">
        //$(document).ready(function () {
        //    //LoadEnquiryListDataTable();
        //});
        //function LoadEnquiryListDataTable() {
        //    var dataTableEL;
        //    dataTableEL = $('#tblEnquiryListDatatable').DataTable({
        //        "columns": [
        //            { "data": "Id" },
        //            { "data": "Name" },
        //            { "data": "Name" },
        //            { "data": "Name" },
        //            { "data": "Name" },
        //            { "data": "Name" },
        //            { "data": "Name" },
        //            { "data": "Name" },
        //            { "data": "Name" }
        //        ],
        //        "
        ": {
        //            "emptyTable": "No data found, Please click on <b>Add New</b> Button"
        //        }
        //    });
        //}
        //$('.next').click(function () {
        //    $('.nav-tabs > .nav-item > .active').parent().next('li').find('button').trigger('click');
        //});

        //$('.previous').click(function () {
        //    $('.nav-tabs > .nav-item > .active').parent().prev('li').find('button').trigger('click');
        //});


        function hideDivFunction() {
            var x = document.getElementById("myDIV");
            if (x.style.display === "none") {
                x.style.display = "block";
            } else {
                x.style.display = "none";
            }
        }
    </script>
}



